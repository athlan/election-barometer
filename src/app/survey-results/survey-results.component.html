<p>
  survey-results works!
</p>

<div class="matches">

  <div *ngIf="!presentReport && hasUnansweredQuestions">
    <h2>Nie odpowiedziano na wszystkie pytania</h2>

    <p>
      Nie udzielono odpowiedzi na wszystkie pytania. Zachęcamy do uzupełnienia wszystkich odpowiedzi.
    </p>

    <button (click)="doUnansweredQuestionsIgnore()">Pokaż raport mimo to</button>
  </div>

  <div *ngIf="presentReport">
    <h2>Twoim poglądom najbardziej odpowiadają</h2>

    <ol class="matches">
      <li *ngFor="let match of matches">
        {{ candidatesById[match.candidateId.value].name }}
        {{ candidatesById[match.candidateId.value].description }}

        {{ match.match * 100 | number: '0.0-2' }}%
      </li>
    </ol>

    <h2>Szczegółowe wyniki</h2>

    <p>
      Poniżej prezentujemy szczegółowe wyniki wpływające na rekomendację. Twoja opinia jest porównana z opiniami kandydatów.
    </p>

    <p>
      Jeżeli uważasz, że pewna kwestia ma dla Ciebie bardziej kluczowe znaczenie, możesz zmienić swoją odpowiedź i sprawdzić raport ponownie.
    </p>

    <ol class="detailedMatches">
      <li *ngFor="let answerSummary of answersSummary">
        <p>{{ answerSummary.question.text }}</p>

        <div *ngIf="!answerSummary.userAnswered">
          Nie udzieliłeś odpowiedzi.
        </div>

        <ul>
          <li *ngFor="let answer of answerSummary.answers">
            {{ answer.answer.text }}

            <div>
              Takie poglądy mają:

              <div *ngIf="answer.userAnswer">
                Ty
              </div>
              <div *ngFor="let candidateAnswer of answer.candidatesAnswers">
                {{ candidatesById[candidateAnswer.candidateId.value].name }}
                {{ candidateAnswer.answer.answer * 100 | number: '0.0-2' }}%
              </div>
            </div>
          </li>
        </ul>
      </li>
    </ol>
  </div>

</div>
